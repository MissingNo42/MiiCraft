//
// Created by Romain on 14/02/2024.
//

#include "engine/render/cache.h"
#include "render/bloc.h"

const u32 Lights[][4] ATTRIBUTE_ALIGN(32) = {
        {0x0e0e0eff, 0x0b0b0bff, 0x080909ff, 0x080909ff},
        {0x131313ff, 0x0f0f0fff, 0x0b0c0cff, 0x0b0c0cff},
        {0x171717ff, 0x121213ff, 0x0e0e0eff, 0x0e0e0eff},
        {0x1c1c1cff, 0x161717ff, 0x111111ff, 0x111111ff},
        {0x222222ff, 0x1b1b1bff, 0x141515ff, 0x141515ff},
        {0x292929ff, 0x202121ff, 0x181919ff, 0x181919ff},
        {0x303030ff, 0x262727ff, 0x1d1d1eff, 0x1d1d1eff},
        {0x393939ff, 0x2d2e2eff, 0x222323ff, 0x222323ff},
        {0x434343ff, 0x353636ff, 0x282929ff, 0x282929ff},
        {0x4f4f4fff, 0x3e4040ff, 0x2f3031ff, 0x2f3031ff},
        {0x5d5d5dff, 0x494b4bff, 0x373939ff, 0x373939ff},
        {0x6e6e6eff, 0x575859ff, 0x424344ff, 0x424344ff},
        {0x848484ff, 0x686a6bff, 0x4f5151ff, 0x4f5151ff},
        {0xa0a0a0ff, 0x7e8181ff, 0x5f6263ff, 0x5f6263ff},
        {0xc5c5c5ff, 0x9b9e9fff, 0x757979ff, 0x757979ff},
        {0xfafafaff, 0xc5c9caff, 0x95999aff, 0x95999aff},
        {0xffffffff, 0x29aeeaff, 0x000000ff}
};

f32 TexCoord[][2] ATTRIBUTE_ALIGN(32) {
	{0.0, 0.0},
 {0.0, 0.03125},
 {0.0, 0.0625},
 {0.0, 0.09375},
 {0.0, 0.125},
 {0.0, 0.15625},
 {0.0, 0.1875},
 {0.0, 0.21875},
 {0.0, 0.25},
 {0.0, 0.28125},
 {0.0, 0.3125},
 {0.0, 0.34375},
 {0.0, 0.375},
 {0.0, 0.40625},
 {0.0, 0.4375},
 {0.0, 0.46875},
 {0.0, 0.5},
 {0.03125, 0.0},
 {0.03125, 0.03125},
 {0.03125, 0.0625},
 {0.03125, 0.09375},
 {0.03125, 0.125},
 {0.03125, 0.15625},
 {0.03125, 0.1875},
 {0.03125, 0.21875},
 {0.03125, 0.25},
 {0.03125, 0.28125},
 {0.03125, 0.3125},
 {0.03125, 0.34375},
 {0.03125, 0.375},
 {0.03125, 0.40625},
 {0.03125, 0.4375},
 {0.03125, 0.46875},
 {0.03125, 0.5},
 {0.0625, 0.0},
 {0.0625, 0.03125},
 {0.0625, 0.0625},
 {0.0625, 0.09375},
 {0.0625, 0.125},
 {0.0625, 0.15625},
 {0.0625, 0.1875},
 {0.0625, 0.21875},
 {0.0625, 0.25},
 {0.0625, 0.28125},
 {0.0625, 0.3125},
 {0.0625, 0.34375},
 {0.0625, 0.375},
 {0.0625, 0.40625},
 {0.0625, 0.4375},
 {0.0625, 0.46875},
 {0.0625, 0.5},
 {0.09375, 0.0},
 {0.09375, 0.03125},
 {0.09375, 0.0625},
 {0.09375, 0.09375},
 {0.09375, 0.125},
 {0.09375, 0.15625},
 {0.09375, 0.1875},
 {0.09375, 0.21875},
 {0.09375, 0.25},
 {0.09375, 0.28125},
 {0.09375, 0.3125},
 {0.09375, 0.34375},
 {0.09375, 0.375},
 {0.09375, 0.40625},
 {0.09375, 0.4375},
 {0.09375, 0.46875},
 {0.09375, 0.5},
 {0.125, 0.0},
 {0.125, 0.03125},
 {0.125, 0.0625},
 {0.125, 0.09375},
 {0.125, 0.125},
 {0.125, 0.15625},
 {0.125, 0.1875},
 {0.125, 0.21875},
 {0.125, 0.25},
 {0.125, 0.28125},
 {0.125, 0.3125},
 {0.125, 0.34375},
 {0.125, 0.375},
 {0.125, 0.40625},
 {0.125, 0.4375},
 {0.125, 0.46875},
 {0.125, 0.5},
 {0.15625, 0.0},
 {0.15625, 0.03125},
 {0.15625, 0.0625},
 {0.15625, 0.09375},
 {0.15625, 0.125},
 {0.15625, 0.15625},
 {0.15625, 0.1875},
 {0.15625, 0.21875},
 {0.15625, 0.25},
 {0.15625, 0.28125},
 {0.15625, 0.3125},
 {0.15625, 0.34375},
 {0.15625, 0.375},
 {0.15625, 0.40625},
 {0.15625, 0.4375},
 {0.15625, 0.46875},
 {0.15625, 0.5},
 {0.1875, 0.0},
 {0.1875, 0.03125},
 {0.1875, 0.0625},
 {0.1875, 0.09375},
 {0.1875, 0.125},
 {0.1875, 0.15625},
 {0.1875, 0.1875},
 {0.1875, 0.21875},
 {0.1875, 0.25},
 {0.1875, 0.28125},
 {0.1875, 0.3125},
 {0.1875, 0.34375},
 {0.1875, 0.375},
 {0.1875, 0.40625},
 {0.1875, 0.4375},
 {0.1875, 0.46875},
 {0.1875, 0.5},
 {0.21875, 0.0},
 {0.21875, 0.03125},
 {0.21875, 0.0625},
 {0.21875, 0.09375},
 {0.21875, 0.125},
 {0.21875, 0.15625},
 {0.21875, 0.1875},
 {0.21875, 0.21875},
 {0.21875, 0.25},
 {0.21875, 0.28125},
 {0.21875, 0.3125},
 {0.21875, 0.34375},
 {0.21875, 0.375},
 {0.21875, 0.40625},
 {0.21875, 0.4375},
 {0.21875, 0.46875},
 {0.21875, 0.5},
 {0.25, 0.0},
 {0.25, 0.03125},
 {0.25, 0.0625},
 {0.25, 0.09375},
 {0.25, 0.125},
 {0.25, 0.15625},
 {0.25, 0.1875},
 {0.25, 0.21875},
 {0.25, 0.25},
 {0.25, 0.28125},
 {0.25, 0.3125},
 {0.25, 0.34375},
 {0.25, 0.375},
 {0.25, 0.40625},
 {0.25, 0.4375},
 {0.25, 0.46875},
 {0.25, 0.5},
 {0.28125, 0.0},
 {0.28125, 0.03125},
 {0.28125, 0.0625},
 {0.28125, 0.09375},
 {0.28125, 0.125},
 {0.28125, 0.15625},
 {0.28125, 0.1875},
 {0.28125, 0.21875},
 {0.28125, 0.25},
 {0.28125, 0.28125},
 {0.28125, 0.3125},
 {0.28125, 0.34375},
 {0.28125, 0.375},
 {0.28125, 0.40625},
 {0.28125, 0.4375},
 {0.28125, 0.46875},
 {0.28125, 0.5},
 {0.3125, 0.0},
 {0.3125, 0.03125},
 {0.3125, 0.0625},
 {0.3125, 0.09375},
 {0.3125, 0.125},
 {0.3125, 0.15625},
 {0.3125, 0.1875},
 {0.3125, 0.21875},
 {0.3125, 0.25},
 {0.3125, 0.28125},
 {0.3125, 0.3125},
 {0.3125, 0.34375},
 {0.3125, 0.375},
 {0.3125, 0.40625},
 {0.3125, 0.4375},
 {0.3125, 0.46875},
 {0.3125, 0.5},
 {0.34375, 0.0},
 {0.34375, 0.03125},
 {0.34375, 0.0625},
 {0.34375, 0.09375},
 {0.34375, 0.125},
 {0.34375, 0.15625},
 {0.34375, 0.1875},
 {0.34375, 0.21875},
 {0.34375, 0.25},
 {0.34375, 0.28125},
 {0.34375, 0.3125},
 {0.34375, 0.34375},
 {0.34375, 0.375},
 {0.34375, 0.40625},
 {0.34375, 0.4375},
 {0.34375, 0.46875},
 {0.34375, 0.5},
 {0.375, 0.0},
 {0.375, 0.03125},
 {0.375, 0.0625},
 {0.375, 0.09375},
 {0.375, 0.125},
 {0.375, 0.15625},
 {0.375, 0.1875},
 {0.375, 0.21875},
 {0.375, 0.25},
 {0.375, 0.28125},
 {0.375, 0.3125},
 {0.375, 0.34375},
 {0.375, 0.375},
 {0.375, 0.40625},
 {0.375, 0.4375},
 {0.375, 0.46875},
 {0.375, 0.5},
 {0.40625, 0.0},
 {0.40625, 0.03125},
 {0.40625, 0.0625},
 {0.40625, 0.09375},
 {0.40625, 0.125},
 {0.40625, 0.15625},
 {0.40625, 0.1875},
 {0.40625, 0.21875},
 {0.40625, 0.25},
 {0.40625, 0.28125},
 {0.40625, 0.3125},
 {0.40625, 0.34375},
 {0.40625, 0.375},
 {0.40625, 0.40625},
 {0.40625, 0.4375},
 {0.40625, 0.46875},
 {0.40625, 0.5},
 {0.4375, 0.0},
 {0.4375, 0.03125},
 {0.4375, 0.0625},
 {0.4375, 0.09375},
 {0.4375, 0.125},
 {0.4375, 0.15625},
 {0.4375, 0.1875},
 {0.4375, 0.21875},
 {0.4375, 0.25},
 {0.4375, 0.28125},
 {0.4375, 0.3125},
 {0.4375, 0.34375},
 {0.4375, 0.375},
 {0.4375, 0.40625},
 {0.4375, 0.4375},
 {0.4375, 0.46875},
 {0.4375, 0.5},
 {0.46875, 0.0},
 {0.46875, 0.03125},
 {0.46875, 0.0625},
 {0.46875, 0.09375},
 {0.46875, 0.125},
 {0.46875, 0.15625},
 {0.46875, 0.1875},
 {0.46875, 0.21875},
 {0.46875, 0.25},
 {0.46875, 0.28125},
 {0.46875, 0.3125},
 {0.46875, 0.34375},
 {0.46875, 0.375},
 {0.46875, 0.40625},
 {0.46875, 0.4375},
 {0.46875, 0.46875},
 {0.46875, 0.5},
 {0.5, 0.0},
 {0.5, 0.03125},
 {0.5, 0.0625},
 {0.5, 0.09375},
 {0.5, 0.125},
 {0.5, 0.15625},
 {0.5, 0.1875},
 {0.5, 0.21875},
 {0.5, 0.25},
 {0.5, 0.28125},
 {0.5, 0.3125},
 {0.5, 0.34375},
 {0.5, 0.375},
 {0.5, 0.40625},
 {0.5, 0.4375},
 {0.5, 0.46875},
 {0.5, 0.5},
 {10 * OFFSET, 0},
 {10 * OFFSET, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {0, 0},
 {11 * OFFSET, 0},
 {11 * OFFSET, 0},
};

void runWater() {
	static u8 n = 0;
	static u8 u = 0;
	u++;
	if (u > 12) {
		u = 0;
		n++;
		if (n == 5) n = 0;
		TexCoord[306][1] = TexCoord[289][1] = 0.25f + (f32)n * OFFSET;
		TexCoord[307][1] = TexCoord[290][1] = 0.25f + (f32)(n + 1) * OFFSET;
		DCFlushRange(&TexCoord[289][1], 4);
		DCFlushRange(&TexCoord[290][1], 4);
		DCFlushRange(&TexCoord[306][1], 4);
		DCFlushRange(&TexCoord[307][1], 4);
	}
}
